시스템 명칭: 휴가관리시스템
모델 명칭: 관리자-휴가신청 목록조회
레벨 : 시스템 - 프론트

# 개요 및 목표
1. 관리자가 사용자의 휴가신청 내역을 조회한다.

# 선행 조건
1. 관리자가 홈페이지에 로그인한 상태이다.
	1. 로그인 ID로 사용자번호를 구해 글로벌 영역에 설정된 상태이다.
2. 부서의 관리자로 권한이 설정되어 있는 상태이다.

# 시작 이벤트
1. 관리자가 관리자 메뉴의 휴가신청/조회 메뉴를 클릭한다. [실행환경 설정]

# 모델 시나리오
1. 시스템은 휴가신청/조회 기본항목을 표시한다.
2. 관리자가 휴가기간을 선택한다.
	1. 휴가기간 시작일을 입력한다.
	2. 휴가기간 종료일을 입력한다. 
3. 관리자가 <검색>을 클릭한다.  [[시스템모델-휴가신청 목록조회#[휴가신청 기간 조회]| [휴가신청 기간 조회] ]] 
4. 관리자가 휴가유형을 선택한다. [휴가유형 선택]
	1. "연차휴가만"을 선택한다. [휴가유형: 연차 선택]
5. 관리자가 휴가상태를 선택한다. [휴가상태 선택]
6. 관리자가 부서원의 이름을 입력한다. [이름 입력]
7. 관리자가 휴가신청/조회 테이블의 row를 선택한다. [휴가신청 상세조회]

# 이벤트 처리
### [실행환경 설정]
1. 시스템은 [[시스템모델-관리자-휴가신청 목록조회|"관리자-휴가신청 검색"]]을 호출한다.
	1. {파라미터} 사용자코드, 휴가시작일 : 해당연도 1월 1일, 휴가종료일 : 오늘 +7
	2. {반환}
		1. ```[ 
			   {id: 휴가신청 ID, userId: 사용자코드, typeCd: 휴가유형코드, typeCdName: 휴가유형명, usingCd: 사용시간코드, startDate: 시작일, endDate: 종료일, requestDays: 신청일수, memo: 휴가사유, createdDt: 생성일자, status : 휴가상태 },
		   ]
	3. {설명} 휴가신청이 없을 수도 있다.
	4. 데이터를 컴포넌트 영역에 fetchData로 저장한다.
2. 시스템은 [[시스템모델-휴가유형_검색|"휴가유형 검색"]]을 호출한다.'
	1. {파라미터} 사용자 코드
	2. {반환} 
			1. ```[{id: 유형ID, typeCd: 휴가유형코드, typeCdName: 휴가유형이름, }, ...]```
	3. {설명} 휴가유형이 없는 사용자도 있다.
3. 시스템은 휴가신청/조회 테이블을 생성한다.
	1. 테이블 헤드 : 휴가유형, 사용시간, 휴가시작일, 휴가종료일, 휴가일수, 사유, 휴가 상태, 휴가신청일, 휴가 상태
	2. 테이블 내용 : 1번에서 반환받은 데이터를 이용한다.
		1. 휴가유형 : typeCd
		2. 사용시간 : usingCd
		3. 휴가시작일 : startDate
		4. 휴가종료일 : endDate
		5. 사유 : memo
		6. 휴가일수 : requestDays
			1. 단위 : 일
		7. 휴가신청일 : createdDt
		8. 휴가상태 : status
		9. {설명} 일자 관련 데이터는 YYYY-MM-DD 로 표기한다.
	3. 테이블 Row에 click 이벤트를 설정한다.
4. 시스템은 날짜 입력박스를 생성한다.
	1. 시작일을 첨부한다.
	2. 종료일을 첨부한다.
	3. <검색> 버튼을 생성한다.
	4. 시스템은 <검색>에 click 이벤트를 설정한다.
	5. "휴가기간"에 첨부한다.
5. 시스템은 리스트 박스를 생성한다.
	1. {리스트} : 전체, 2번 휴가유형의 이름들
	2. 휴가유형이름의 value는 휴가유형ID로 한다.
	3. 기본값은 {전체 : all}로 한다.
	4. "휴가유형"에 첨부를 한다.
6. 시스템은 체크박스를 생성한다.
	1. "연차휴가만" 라벨을 첨부한다.
	2. "휴가유형"에 첨부를 한다.
7. 시스템은 리스트 박스를 생성한다.
	1. {리스트} : 전체, 승인, 거부, 취소
	2. 기본값은 {전체 : all}로 한다.
	3. "휴가상태"에 첨부를 한다.
8. 시스템은 입력 박스를 생성한다.
	1. "이름" 라벨을 첨부한다.
	2. "이름검색"에 첨부한다.
9. 시스템은 휴가신청/조회 기본항목을 편집한다.
	1. {항목} 휴가기간, 휴가유형, 휴가상태, 이름검색, 휴가신청/조회 테이블
	2. <휴가 취소신청>, <휴가신청> 버튼을 생성한다.
	3. 시스템은 <휴가 취소신청>, <휴가신청> 에 click 이벤트를 설정한다.


### [휴가신청 기간 조회]
1. 시스템은 필수 입력 항목을 체크한다.
	1. 필수 입력 항목을 입력하지 않았다. [필수 항목 미입력]
		1. {항목} 사용자코드, 휴가시작일, 휴가종료일
	2. 휴가시작일 > 휴가종료일이다. [휴가기간 입력 오류]
2. 시스템은 ["휴가신청 검색"](/백엔드/시스템모델-휴가신청 검색.md)을 호출한다.
	1. {파라미터} 사용자코드, 휴가시작일 : 해당연도 1월 1일, 휴가종료일 : 오늘 +7
	2. {반환}
		1. ```[ 
			   {id: 휴가신청 ID, userId: 사용자코드, typeCd: 휴가유형코드, typeCdName: 휴가유형, usingCd: 사용시간코드, startDate: 시작일, endDate: 종료일, requestDays: 신청일수, memo: 휴가사유, createdDt: 생성일자, statusCd : 휴가상태 },
		   ]```
	3. {설명} 휴가신청이 없을 수도 있다.
	4. 데이터를 컴포넌트 영역에 fetchData로 저장한다.
1. 시스템은 휴가신청/조회 테이블을 재생성한다.

### [휴가유형 선택]
1. 선택한 휴가유형이 "전체"이다.
	1. 시스템은 fetchData의 모든 데이터를 가지고 온다.
2. 선택한 휴가유형이 "전체"가 아니다.
	1. 시스템은 선택한 휴가유형의 value와 fetchData.typeCd가 같은 데이터를 가지고 온다.
3. 시스템은 휴가신청/조회 테이블을 재생성한다.

### [휴가유형: 연차 선택]
1. 시스템은 fetchData.typeCd가 연차 코드와 같은 데이터를 가지고 온다.
2. 시스템은 휴가신청/조회 테이블을 재생성한다.

### [휴가상태 선택]
1. 선택한 휴가상태가 "전체"이다.
	1. 시스템은 fetchData의 모든 데이터를 가지고 온다.
2. 선택한 휴가상태가 "전체"가 아니다.
	1. 시스템은 선택한 휴가상태의 value와 fetchData.statusCd 같은 데이터를 가지고 온다.
3. 시스템은 휴가신청/조회 테이블을 재생성한다.

### [이름 입력]
1. 시스템은 fetchData.name에 관리자가 입력한 내용과 같은 데이터를 가지고 온다.
	1. 입력이 완료된 후 0.5초 후에 한다.
2. 시스템은 휴가신청/조회 테이블을 재생성한다.

### [휴가신청 상세조회]
1. 시스템은 [[시스템모델-휴가신청 상세조회|"휴가신청 상세조회"]]를 호출한다.
	1. {파라미터} 사용자코드
	2. {반환} 휴가사용 상세화면
2. 휴가사용 상세화면을 모달로 표시한다.